{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Yarp": "Information"
    }
  },
  "AllowedHosts": "*",
  "Jwt": {
    "Issuer": "ElevateFitness-AuthService",
    "Audience": "ElevateFitness-App"
  },
  "ReverseProxy": {
    "Routes": {
      // =======================================================
      // 1. PUBLIC: AUTHENTICATION & REGISTRATION
      // Routes: /api/v1/auth/register, /api/v1/auth/login, etc.
      // This route does NOT require an AuthorizationPolicy (it's public).
      // =======================================================
      "auth-public-route": {
        "ClusterId": "auth-cluster",
        "Match": {
          "Path": "/api/v1/auth/{**catch-all}"
        },
        "Transforms": [ { "PathPattern": "/api/v1/auth/{**catch-all}" } ]
      },

      // =======================================================
      // 2. AUTHENTICATED: USER PROFILE AND SETTINGS
      // Routes: /api/v1/profile/*, /api/v1/settings/*
      // =======================================================
      "profile-route": {
        "ClusterId": "profile-cluster",
        "AuthorizationPolicy": "ApiAuthPolicy",
        "Match": {
          "Path": "/api/v1/profile/{**catch-all}"
        },
        "Transforms": [ { "PathPattern": "/api/v1/profile/{**catch-all}" } ]
      },
      "settings-route": {
        "ClusterId": "profile-cluster",
        "AuthorizationPolicy": "ApiAuthPolicy",
        "Match": {
          "Path": "/api/v1/settings/{**catch-all}"
        },
        "Transforms": [ { "PathPattern": "/api/v1/settings/{**catch-all}" } ]
      },

      // =======================================================
      // 3. AUTHENTICATED: CONTENT CATALOGS
      // Routes: /api/v1/workouts/*, /api/v1/nutrition/*
      // =======================================================
      "workout-route": {
        "ClusterId": "workout-cluster",
        "AuthorizationPolicy": "ApiAuthPolicy",
        "Match": {
          "Path": "/api/v1/workouts/{**catch-all}"
        },
        "Transforms": [ { "PathPattern": "/api/v1/workouts/{**catch-all}" } ]
      },
      "nutrition-route": {
        "ClusterId": "nutrition-cluster",
        "AuthorizationPolicy": "ApiAuthPolicy",
        "Match": {
          "Path": "/api/v1/nutrition/{**catch-all}"
        },
        "Transforms": [ { "PathPattern": "/api/v1/nutrition/{**catch-all}" } ]
      },

      // =======================================================
      // 4. AUTHENTICATED: PROGRESS TRACKING (Write/Read)
      // Routes: /api/v1/progress/*
      // =======================================================
      "tracking-route": {
        "ClusterId": "tracking-cluster",
        "AuthorizationPolicy": "ApiAuthPolicy",
        "Match": {
          "Path": "/api/v1/progress/{**catch-all}"
        },
        "Transforms": [ { "PathPattern": "/api/v1/progress/{**catch-all}" } ]
      }

      // NOTE: Home, FCE, and Smart Coach are omitted as they are not yet implemented.
    },
    "Clusters": {
      "auth-cluster": {
        "Destinations": {
          "destination1": { "Address": "http://authenticationservice:80" }
        }
      },
      "profile-cluster": {
        "Destinations": {
          "destination1": { "Address": "http://userprofileservice:80" }
        }
      },
      "workout-cluster": {
        "Destinations": {
          "destination1": { "Address": "http://workoutservice:80" }
        }
      },
      "nutrition-cluster": {
        "Destinations": {
          "destination1": { "Address": "http://nutritionservice:80" }
        }
      },
      "tracking-cluster": {
        "Destinations": {
          "destination1": { "Address": "http://progresstrackingservice:80" }
        }
      }
    }
  }
}